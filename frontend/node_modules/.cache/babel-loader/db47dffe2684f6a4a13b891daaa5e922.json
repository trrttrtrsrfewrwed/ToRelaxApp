{"ast":null,"code":"var _jsxFileName = \"/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js\";\nimport { Provider } from 'react-redux';\nimport { connect } from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation';\nimport styles from './index.module.css';\nimport React from 'react';\nimport Text from '../Text/Text';\n\nfunction getResponse(data, request) {\n  // TODO\n  return data;\n}\n\nfunction getMinutes(time) {\n  return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5));\n}\n\nfunction getMax(data, minutes) {\n  if (data.length === 0) {\n    return {\n      data: [],\n      sum: 0\n    };\n  }\n\n  let max_sum = 0;\n  let max_data = [];\n  data.forEach((item, index, array) => {\n    let curr_data = data.slice();\n    let removed = curr_data.splice(index, 1);\n    let curr_minutes = getMinutes(removed.time);\n\n    if (curr_minutes <= minutes) {\n      let curr = getMax(curr_data, minutes - getMinutes(removed.time));\n\n      if (curr.sum + removed.rating > max_sum) {\n        max_sum = curr.sum;\n        max_data = curr.data;\n      }\n    }\n  });\n  return {\n    data: max_data,\n    sum: max_sum\n  };\n}\n\nfunction Response(props) {\n  const request = props.request;\n  const response = getResponse(props.data, request);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, request), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, getMinutes(request)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.activities_list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, response.map(elem => /*#__PURE__*/React.createElement(ActivitiesElemPresentation, {\n    key: elem.id,\n    props: elem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    data: state.data\n  };\n};\n\nexport default connect(mapStateToProps)(Response);","map":{"version":3,"sources":["/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js"],"names":["Provider","connect","ActivitiesElemPresentation","styles","React","Text","getResponse","data","request","getMinutes","time","parseInt","substring","getMax","minutes","length","sum","max_sum","max_data","forEach","item","index","array","curr_data","slice","removed","splice","curr_minutes","curr","rating","Response","props","response","activities_list","map","elem","id","mapStateToProps","state"],"mappings":"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","sourcesContent":["import {Provider} from 'react-redux'\nimport {connect} from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation'  \nimport styles from './index.module.css';\nimport React from 'react';\nimport Text from '../Text/Text'\nfunction getResponse(data, request) {\n    // TODO\n    return data\n}\n\nfunction getMinutes(time) {\n    return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5))\n}\n\nfunction getMax(data, minutes) {\n    if (data.length === 0) {\n        return {\n            data: [],\n            sum: 0\n        };\n    }\n    let max_sum = 0\n    let max_data = []\n    data.forEach((item, index, array)=> {\n        let curr_data = data.slice()\n        let removed = curr_data.splice(index, 1)\n        let curr_minutes = getMinutes(removed.time)\n        if (curr_minutes <= minutes) {\n            let curr = getMax(curr_data, minutes - getMinutes(removed.time))\n            if (curr.sum + removed.rating > max_sum) {\n                max_sum = curr.sum\n                max_data = curr.data\n            }\n        }\n    });\n    return {\n        data: max_data,\n        sum: max_sum\n    }\n}\n\n\n\nfunction Response(props) {\n    const request = props.request\n    const response = getResponse(props.data, request)\n    return (\n        <div>\n            <Text>{request}</Text>\n            <Text>{getMinutes(request)}</Text>\n            <div className = {styles.activities_list}>\n                {response.map(elem =>\n                        <ActivitiesElemPresentation key = {elem.id} props={elem}>\n                        </ActivitiesElemPresentation>)}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      data: state.data    \n    }\n  };\n\nexport default connect(mapStateToProps)(Response)"]},"metadata":{},"sourceType":"module"}