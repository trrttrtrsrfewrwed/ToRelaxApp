{"ast":null,"code":"var _jsxFileName = \"/home/mr_tross/Fullstack/frontend/src/components/LoginFrame/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport styles from './index.module.css';\nimport Input from '../Input/Input';\nimport Button from '../Button/Button';\nimport Text from '../Text/Text';\nimport { loginAction } from \"../../actions/user/user\";\nimport { connect } from \"react-redux\";\n\nfunction isCorrectEmail(email) {\n  return email.length >= 5;\n}\n\nfunction isCorrectPassword(password) {\n  return password.length >= 5;\n}\n\nfunction Login(props) {\n  _s();\n\n  const [user_data, setUserData] = useState({\n    email: '',\n    password: '',\n    emailError: false,\n    passwordError: false,\n    errorText: ''\n  });\n\n  const onLogin = event => {\n    event.preventDefault();\n\n    if (!isCorrectEmail(user_data.email)) {\n      setUserData({\n        email: user_data.email,\n        password: user_data.password,\n        emailError: true,\n        passwordError: user_data.passwordError,\n        errorText: 'Email must be longer than 5 characters'\n      });\n      return;\n    }\n\n    if (!isCorrectPassword(user_data.password)) {\n      setUserData({\n        email: user_data.email,\n        password: user_data.password,\n        emailError: user_data.emailError,\n        passwordError: true,\n        errorText: 'Password must be longer than 5 characters'\n      });\n      return;\n    }\n\n    props.login(user_data.email, user_data.password).then(() => {\n      console.log('1');\n      props.history.push('/');\n    }).catch(error => {\n      setUserData({\n        email: user_data.email,\n        password: user_data.password,\n        emailError: true,\n        passwordError: true,\n        errorText: error.message\n      });\n    });\n  };\n\n  const onChangeEmail = event => {\n    setUserData({\n      email: event.target.value,\n      password: user_data.password,\n      emailError: false,\n      passwordError: false,\n      errorText: false\n    });\n  };\n\n  const onChangePassword = event => {\n    setUserData({\n      email: user_data.email,\n      password: event.target.value,\n      emailError: false,\n      passwordError: false,\n      errorText: false\n    });\n  };\n\n  const onToSignUp = event => {\n    event.preventDefault();\n    props.history.push('/signup');\n  };\n\n  if (props.loading) {\n    return /*#__PURE__*/React.createElement(\"h1\", null, \"LOADING...\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.mainFrame\n    }, /*#__PURE__*/React.createElement(Text, {\n      textStyle: 0,\n      color_name: \"blue\"\n    }, \"#TORELAX\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: styles.wrapper\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.brow\n    }, /*#__PURE__*/React.createElement(\"div\", null), /*#__PURE__*/React.createElement(Text, {\n      textStyle: 1,\n      color_name: \"blue\"\n    }, \"Login\"), /*#__PURE__*/React.createElement(Button, {\n      buttonStyle: 1,\n      onClick: onToSignUp\n    }, \"SignUp\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.inputs\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      placeholder: \"Email\",\n      onChange: onChangeEmail,\n      value: user_data.email,\n      error: user_data.emailError\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      placeholder: \"Password\",\n      onChange: onChangePassword,\n      value: user_data.password,\n      error: user_data.passwordError\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.buttons\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: onLogin,\n      buttonStyle: 0,\n      inversed: true\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: styles.error\n    }, user_data.errorText)), /*#__PURE__*/React.createElement(\"div\", null));\n  }\n}\n\n_s(Login, \"rSuGMn9Geo+u8WY1TSpvpY1WElM=\");\n\n_c = Login;\n\nconst mapStateToProps = state => {\n  return {\n    error: state.error,\n    loading: state.isFetching\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (...args) => dispatch(loginAction(...args))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/mr_tross/Fullstack/frontend/src/components/LoginFrame/Login.js"],"names":["React","useState","styles","Input","Button","Text","loginAction","connect","isCorrectEmail","email","length","isCorrectPassword","password","Login","props","user_data","setUserData","emailError","passwordError","errorText","onLogin","event","preventDefault","login","then","console","log","history","push","catch","error","message","onChangeEmail","target","value","onChangePassword","onToSignUp","loading","mainFrame","wrapper","brow","inputs","buttons","mapStateToProps","state","isFetching","mapDispatchToProps","dispatch","args"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport styles from './index.module.css';\nimport Input from '../Input/Input';\nimport Button from '../Button/Button';\nimport Text from '../Text/Text'\nimport {loginAction} from \"../../actions/user/user\"\nimport {connect} from \"react-redux\";\n\n\nfunction isCorrectEmail(email) {\n  return email.length >= 5\n}\n\nfunction isCorrectPassword(password) {\n  return password.length >= 5\n}\n\nfunction Login(props) {\n    const [user_data, setUserData] = useState({\n        email: '',\n        password: '',\n        emailError: false,\n        passwordError: false,\n        errorText: ''\n    });\n\n    const onLogin = (event) => {\n        event.preventDefault();\n        if (!isCorrectEmail(user_data.email)) {\n            setUserData({\n                email: user_data.email,\n                password: user_data.password,\n                emailError: true,\n                passwordError: user_data.passwordError,\n                errorText: 'Email must be longer than 5 characters'\n              });\n    \n            return\n        }\n    \n        if (!isCorrectPassword(user_data.password)) {\n            setUserData({\n                email: user_data.email,\n                password: user_data.password,\n                emailError: user_data.emailError,\n                passwordError: true,\n                errorText: 'Password must be longer than 5 characters'\n              });\n\n          return\n        }\n\n        props.login(user_data.email, user_data.password).then(() => {\n          console.log('1');\n          props.history.push('/');\n        }).catch((error) => {\n          setUserData({\n            email: user_data.email,\n            password: user_data.password,\n            emailError: true,\n            passwordError: true,\n            errorText: error.message\n          });\n        })\n    };\n    \n    const onChangeEmail = (event) => {\n        setUserData({\n            email: event.target.value,\n            password: user_data.password,\n            emailError: false,\n            passwordError: false,\n            errorText: false\n          });\n    };\n    \n    const onChangePassword = (event) => {\n        setUserData({\n            email: user_data.email,\n            password: event.target.value,\n            emailError: false,\n            passwordError: false,\n            errorText: false\n          });\n    };\n    \n      \n    const onToSignUp = (event) => {\n      event.preventDefault();\n  \n      props.history.push('/signup');\n    }\n    if (props.loading) {\n      return <h1>LOADING...</h1>\n    } else {\n      return (\n        <div className = {styles.mainFrame}>\n          <Text textStyle={0} color_name={\"blue\"}>#TORELAX</Text>\n          <form className={styles.wrapper}>\n              <div className={styles.brow}>\n                  <div></div>\n                  <Text textStyle={1} color_name={\"blue\"}>Login</Text>\n                  <Button buttonStyle={1} onClick = {onToSignUp}>SignUp</Button>\n              </div>\n              <div className={styles.inputs}>\n                <Input type=\"email\" placeholder=\"Email\" onChange={onChangeEmail} value={user_data.email} error={user_data.emailError}/>\n                <Input type=\"password\" placeholder=\"Password\" onChange={onChangePassword} value={user_data.password} error={user_data.passwordError}/>\n              </div>\n              <div className={styles.buttons}>\n                <Button onClick={onLogin} buttonStyle={0} inversed={true}>Login</Button>\n              </div>\n              <p className={styles.error}>{user_data.errorText}</p>\n          </form>\n          <div></div>\n        </div>  \n      )\n    }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    error: state.error,\n    loading: state.isFetching\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    login: (...args) => dispatch(loginAction(...args))\n  }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}