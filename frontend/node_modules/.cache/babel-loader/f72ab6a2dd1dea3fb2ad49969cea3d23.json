{"ast":null,"code":"var _jsxFileName = \"/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js\";\nimport { Provider } from 'react-redux';\nimport { connect } from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation';\nimport styles from './index.module.css';\nimport React, { useState } from 'react';\nimport Text from '../Text/Text';\nimport Button from '../Button/Button';\n\nfunction getMinutes(time) {\n  return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5));\n}\n\nfunction getResponse(data, request) {\n  let max = getMax(data, getMinutes(request));\n  return max.data;\n}\n\nfunction getMax(data, minutes) {\n  if (data.length === 0) {\n    return {\n      data: [],\n      sum: 0\n    };\n  }\n\n  let max_sum = 0;\n  let max_data = [];\n  data.forEach((item, index, array) => {\n    let curr_data = data.slice();\n    let removed = curr_data.splice(index, 1);\n    let curr_minutes = getMinutes(removed[0].time);\n\n    if (curr_minutes <= minutes) {\n      let curr = getMax(curr_data, minutes - getMinutes(removed[0].time));\n\n      if (curr.sum + removed[0].rating * curr_minutes > max_sum) {\n        max_sum = curr.sum + removed[0].rating * curr_minutes;\n        max_data = removed.concat(curr.data);\n      }\n    }\n  });\n  return {\n    data: max_data,\n    sum: max_sum\n  };\n}\n\nfunction Response(props) {\n  const [move, setMove] = useState(false);\n  const request = props.request.request;\n  const response = getResponse(props.data, request);\n  setMove(true);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, request), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, getMinutes(request)), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.activities_list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, move && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 26\n    }\n  }, \"Lol\"), response.map(elem => /*#__PURE__*/React.createElement(ActivitiesElemPresentation, {\n    key: elem.id,\n    props: elem,\n    moving: move,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    data: state.data\n  };\n};\n\nexport default connect(mapStateToProps)(Response);","map":{"version":3,"sources":["/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js"],"names":["Provider","connect","ActivitiesElemPresentation","styles","React","useState","Text","Button","getMinutes","time","parseInt","substring","getResponse","data","request","max","getMax","minutes","length","sum","max_sum","max_data","forEach","item","index","array","curr_data","slice","removed","splice","curr_minutes","curr","rating","concat","Response","props","move","setMove","response","activities_list","map","elem","id","mapStateToProps","state"],"mappings":"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","sourcesContent":["import {Provider} from 'react-redux'\nimport {connect} from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation'  \nimport styles from './index.module.css';\nimport React, {useState} from 'react';\nimport Text from '../Text/Text'\nimport Button from '../Button/Button'\n\nfunction getMinutes(time) {\n    return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5));\n}\n\nfunction getResponse(data, request) {\n    let max = getMax(data, getMinutes(request));\n    return max.data;\n}\n\nfunction getMax(data, minutes) {\n    if (data.length === 0) {\n        return {\n            data: [],\n            sum: 0\n        };\n    }\n    let max_sum = 0;\n    let max_data = [];\n    data.forEach((item, index, array)=> {\n        let curr_data = data.slice();\n        let removed = curr_data.splice(index, 1);\n        let curr_minutes = getMinutes(removed[0].time);\n        if (curr_minutes <= minutes) {\n             let curr = getMax(curr_data, minutes - getMinutes(removed[0].time))\n            if (curr.sum + removed[0].rating * curr_minutes > max_sum) {\n                max_sum = curr.sum + removed[0].rating * curr_minutes; \n                max_data = removed.concat(curr.data)\n            }\n        }\n    });\n    return {\n        data: max_data,\n        sum: max_sum\n    };\n}\n\n\n\nfunction Response(props) {\n    const [move, setMove] = useState(false)\n    const request = props.request.request\n    const response = getResponse(props.data, request)\n    setMove(true)\n    return (\n        <div>\n            <Text>{request}</Text>\n            <Text>{getMinutes(request)}</Text>\n            <div className = {styles.activities_list}>\n                {move && <p>Lol</p>}\n                {response.map(elem =>\n                    <ActivitiesElemPresentation key = {elem.id} props={elem} moving = {move}> \n                    </ActivitiesElemPresentation>\n                )} \n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      data: state.data    \n    }\n  };\n\nexport default connect(mapStateToProps)(Response)"]},"metadata":{},"sourceType":"module"}