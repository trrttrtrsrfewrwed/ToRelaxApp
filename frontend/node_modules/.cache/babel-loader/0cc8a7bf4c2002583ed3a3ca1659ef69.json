{"ast":null,"code":"var _jsxFileName = \"/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js\";\nimport { Provider } from 'react-redux';\nimport { connect } from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation';\nimport styles from './index.module.css';\nimport React, { useState, useEffect } from 'react';\nimport Text from '../Text/Text';\nimport Button from '../Button/Button';\n\nfunction getMinutes(time) {\n  return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5));\n}\n\nfunction getResponse(data, request) {\n  let max = getMax(data, getMinutes(request));\n  return max.data;\n}\n\nfunction getMax(data, minutes) {\n  if (data.length === 0) {\n    return {\n      data: [],\n      sum: 0\n    };\n  }\n\n  let max_sum = 0;\n  let max_data = [];\n  data.forEach((item, index, array) => {\n    let curr_data = data.slice();\n    let removed = curr_data.splice(index, 1);\n    let curr_minutes = getMinutes(removed[0].time);\n\n    if (curr_minutes <= minutes) {\n      let curr = getMax(curr_data, minutes - getMinutes(removed[0].time));\n\n      if (curr.sum + removed[0].rating * curr_minutes > max_sum) {\n        max_sum = curr.sum + removed[0].rating * curr_minutes;\n        max_data = removed.concat(curr.data);\n      }\n    }\n  });\n  return {\n    data: max_data,\n    sum: max_sum\n  };\n}\n\nfunction Response(props) {\n  const [move, setMove] = useState(false);\n  useEffect(() => {\n    setMove(true);\n  }, []);\n  const request = props.request.request; // WARNING!!! VERY BAD REALISATION\n\n  const response = getResponse(props.data, request);\n\n  let onToActivities = event => {\n    event.preventDefault();\n    props.history.push('/activities');\n  };\n\n  let onToMain = event => {\n    event.preventDefault();\n    props.history.push('/');\n  }; //\n  // палка\n  //<rect x=\"3.55042\" y=\"541.617\" width=\"541.621\" height=\"18.807\" transform=\"rotate(-89.7869 3.55042 541.617)\" fill=\"#BDBDBD\"/>\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.mainFrame,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    textStyle: 0,\n    color_name: 'blue',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"RELAX\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, request), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.activities_list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, response.map((elem, index, array) => /*#__PURE__*/React.createElement(ActivitiesElemPresentation, {\n    key: elem.id,\n    props: elem,\n    moving: move,\n    delay: 100 * (array.length - index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"317\",\n    height: \"544\",\n    viewBox: \"0 0 317 544\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.9277 412L5.00001 453.684L5 544L317 544L317 453.684L296.325 412L26.9277 412Z\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M153 448C105.504 448 67 486.504 67 534H239C239 486.504 200.496 448 153 448Z\",\n    fill: \"#F2F2F2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"148\",\n    y: \"451\",\n    width: \"6\",\n    height: \"18\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"93.8239\",\n    y: \"478.347\",\n    width: \"6.26899\",\n    height: \"17.5532\",\n    transform: \"rotate(-45 93.8239 478.347)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"73\",\n    y: \"530\",\n    width: \"6\",\n    height: \"17\",\n    transform: \"rotate(-90 73 530)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"209.047\",\n    y: \"473.914\",\n    width: \"6.26899\",\n    height: \"17.5532\",\n    transform: \"rotate(45 209.047 473.914)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"234\",\n    y: \"524\",\n    width: \"6\",\n    height: \"17\",\n    transform: \"rotate(90 234 524)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M53.5 512L56.3064 520.292H65.3882L58.0409 525.416L60.8473 533.708L53.5 528.584L46.1527 533.708L48.9591 525.416L41.6118 520.292H50.6936L53.5 512Z\",\n    fill: \"#FBFF4E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M81 449L83.6942 457.292H92.4127L85.3593 462.416L88.0534 470.708L81 465.584L73.9466 470.708L76.6407 462.416L69.5873 457.292H78.3058L81 449Z\",\n    fill: \"#FBFF4E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M151 420L153.694 428.292H162.413L155.359 433.416L158.053 441.708L151 436.584L143.947 441.708L146.641 433.416L139.587 428.292H148.306L151 420Z\",\n    fill: \"#FBFF4E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M230 449L232.694 457.292H241.413L234.359 462.416L237.053 470.708L230 465.584L222.947 470.708L225.641 462.416L218.587 457.292H227.306L230 449Z\",\n    fill: \"#BABABA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M254 512L256.694 520.292H265.413L258.359 525.416L261.053 533.708L254 528.584L246.947 533.708L249.641 525.416L242.587 520.292H251.306L254 512Z\",\n    fill: \"#BABABA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"11\",\n    y: \"390\",\n    width: \"300\",\n    height: \"19\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    y: \"43\",\n    width: \"31\",\n    height: \"33\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M29 51L152 64.4146V76H29V51Z\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.column,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onToMain,\n    inversed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, \"Override relax time\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: onToActivities,\n    inversed: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Go to my activities\")));\n}\n\nconst mapStateToProps = state => {\n  return {\n    data: state.data\n  };\n};\n\nexport default connect(mapStateToProps)(Response);","map":{"version":3,"sources":["/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js"],"names":["Provider","connect","ActivitiesElemPresentation","styles","React","useState","useEffect","Text","Button","getMinutes","time","parseInt","substring","getResponse","data","request","max","getMax","minutes","length","sum","max_sum","max_data","forEach","item","index","array","curr_data","slice","removed","splice","curr_minutes","curr","rating","concat","Response","props","move","setMove","response","onToActivities","event","preventDefault","history","push","onToMain","mainFrame","activities_list","map","elem","id","column","mapStateToProps","state"],"mappings":"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","sourcesContent":["import {Provider} from 'react-redux'\nimport {connect} from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation'  \nimport styles from './index.module.css';\nimport React, {useState, useEffect} from 'react';\nimport Text from '../Text/Text'\nimport Button from '../Button/Button'\n\nfunction getMinutes(time) {\n    return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5));\n}\n\nfunction getResponse(data, request) {\n    let max = getMax(data, getMinutes(request));\n    return max.data;\n}\n\nfunction getMax(data, minutes) {\n    if (data.length === 0) {\n        return {\n            data: [],\n            sum: 0\n        };\n    }\n    let max_sum = 0;\n    let max_data = [];\n    data.forEach((item, index, array)=> {\n        let curr_data = data.slice();\n        let removed = curr_data.splice(index, 1);\n        let curr_minutes = getMinutes(removed[0].time);\n        if (curr_minutes <= minutes) {\n             let curr = getMax(curr_data, minutes - getMinutes(removed[0].time))\n            if (curr.sum + removed[0].rating * curr_minutes > max_sum) {\n                max_sum = curr.sum + removed[0].rating * curr_minutes; \n                max_data = removed.concat(curr.data)\n            }\n        }\n    });\n    return {\n        data: max_data,\n        sum: max_sum\n    };\n}\n\n\n\nfunction Response(props) {\n    const [move, setMove] = useState(false)\n    useEffect(() => {\n        setMove(true)\n      }, []);\n\n    const request = props.request.request\n    // WARNING!!! VERY BAD REALISATION\n    const response = getResponse(props.data, request)\n    let onToActivities =(event) => {\n        event.preventDefault();\n        \n        props.history.push('/activities');\n    }\n    let onToMain =(event) => {\n        event.preventDefault();\n        \n        props.history.push('/');\n    }\n    //\n\n    // палка\n    //<rect x=\"3.55042\" y=\"541.617\" width=\"541.621\" height=\"18.807\" transform=\"rotate(-89.7869 3.55042 541.617)\" fill=\"#BDBDBD\"/>\n\n    return (\n        <div className = {styles.mainFrame}>\n            <Text textStyle={0} color_name={'blue'}>RELAX</Text>\n            <div>\n                <Text>{request}</Text>\n                <div className = {styles.activities_list}>\n                    {response.map((elem, index, array) =>\n                        <ActivitiesElemPresentation key = {elem.id} props={elem} moving = {move} delay = {100 * (array.length - index)}> \n                        </ActivitiesElemPresentation>\n                    )} \n                </div>\n                <div>\n                <svg width=\"317\" height=\"544\" viewBox=\"0 0 317 544\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M26.9277 412L5.00001 453.684L5 544L317 544L317 453.684L296.325 412L26.9277 412Z\" fill=\"#828282\"/>\n                    <path d=\"M153 448C105.504 448 67 486.504 67 534H239C239 486.504 200.496 448 153 448Z\" fill=\"#F2F2F2\"/>\n                    <rect x=\"148\" y=\"451\" width=\"6\" height=\"18\" fill=\"#333333\"/>\n                    <rect x=\"93.8239\" y=\"478.347\" width=\"6.26899\" height=\"17.5532\" transform=\"rotate(-45 93.8239 478.347)\" fill=\"#333333\"/>\n                    <rect x=\"73\" y=\"530\" width=\"6\" height=\"17\" transform=\"rotate(-90 73 530)\" fill=\"#333333\"/>\n                    <rect x=\"209.047\" y=\"473.914\" width=\"6.26899\" height=\"17.5532\" transform=\"rotate(45 209.047 473.914)\" fill=\"#333333\"/>\n                    <rect x=\"234\" y=\"524\" width=\"6\" height=\"17\" transform=\"rotate(90 234 524)\" fill=\"#333333\"/>\n                    <path d=\"M53.5 512L56.3064 520.292H65.3882L58.0409 525.416L60.8473 533.708L53.5 528.584L46.1527 533.708L48.9591 525.416L41.6118 520.292H50.6936L53.5 512Z\" fill=\"#FBFF4E\"/>\n                    <path d=\"M81 449L83.6942 457.292H92.4127L85.3593 462.416L88.0534 470.708L81 465.584L73.9466 470.708L76.6407 462.416L69.5873 457.292H78.3058L81 449Z\" fill=\"#FBFF4E\"/>\n                    <path d=\"M151 420L153.694 428.292H162.413L155.359 433.416L158.053 441.708L151 436.584L143.947 441.708L146.641 433.416L139.587 428.292H148.306L151 420Z\" fill=\"#FBFF4E\"/>\n                    <path d=\"M230 449L232.694 457.292H241.413L234.359 462.416L237.053 470.708L230 465.584L222.947 470.708L225.641 462.416L218.587 457.292H227.306L230 449Z\" fill=\"#BABABA\"/>\n                    <path d=\"M254 512L256.694 520.292H265.413L258.359 525.416L261.053 533.708L254 528.584L246.947 533.708L249.641 525.416L242.587 520.292H251.306L254 512Z\" fill=\"#BABABA\"/>\n                    <rect x=\"11\" y=\"390\" width=\"300\" height=\"19\" fill=\"#828282\"/>\n                    <rect y=\"43\" width=\"31\" height=\"33\" fill=\"#828282\"/>\n                    <path d=\"M29 51L152 64.4146V76H29V51Z\" fill=\"#828282\"/>\n                </svg>\n\n                </div>\n            </div>\n            <div className = {styles.column}>\n                <Button onClick = {onToMain} inversed={true}>\n                        Override relax time\n                </Button> \n                <Button onClick = {onToActivities} inversed={false}>\n                        Go to my activities\n                </Button> \n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      data: state.data    \n    }\n  };\n\nexport default connect(mapStateToProps)(Response)"]},"metadata":{},"sourceType":"module"}