{"ast":null,"code":"var _jsxFileName = \"/home/mr_tross/Fullstack/torelax/src/components/SignUpFrame/SignUp.js\";\nimport React, { useContext } from 'react';\nimport './index.module.css';\nimport Input from '../Input/Input';\nimport Button from '../Button/Button';\nimport { Context } from \"../../context\";\n\nfunction isCorrectEmail(email) {\n  return email.length >= 5;\n}\n\nfunction isCorrectPassword(email) {\n  return email.length >= 5;\n}\n\nfunction Signup() {\n  const {\n    user_data,\n    setUserData\n  } = useContext(Context);\n\n  const resetAllErrors = event => {\n    setUserData({\n      emailError: false,\n      passwordError: false,\n      repeatPasswordError: false,\n      errorText: ''\n    });\n  };\n\n  const onSignUp = event => {\n    event.preventDefault();\n    const {\n      email,\n      password,\n      repeatPassword\n    } = user_data;\n\n    if (!isCorrectEmail(email)) {\n      setUserData({\n        emailError: true,\n        errorText: 'Логин должен быть длиннее 5 символов'\n      });\n      return;\n    }\n\n    if (!isCorrectPassword(password)) {\n      setUserData({\n        passwordError: true,\n        errorText: 'Пароль должен быть длиннее 5 символов'\n      });\n      return;\n    }\n\n    if (password !== repeatPassword) {\n      setUserData({\n        passwordError: true,\n        repeatPasswordError: true,\n        errorText: 'Пароли не совпадают'\n      });\n      return;\n    }\n    /*UserService.signup(email, password)\n      .then((user) => {\n        this.props.setUser(user);\n     \n        this.props.history.push('/');\n      })\n      .catch((error) => {\n        this.setState({errorText: error.error})\n      })*/\n\n  };\n\n  const onChangeEmail = event => {\n    resetAllErrors();\n    setUserData({\n      email: event.target.value\n    });\n  };\n\n  const onChangePassword = event => {\n    resetAllErrors();\n    setUserData({\n      password: event.target.value\n    });\n  };\n\n  const onChangeRepeatPassword = event => {\n    resetAllErrors();\n    setUserData({\n      repeatPassword: event.target.value\n    });\n  };\n\n  const onToLogin = event => {\n    event.preventDefault(); // this.props.history.push('/login');\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n    onChange: onChangeEmail,\n    value: email,\n    error: emailError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    onChange: onChangePassword,\n    value: password,\n    error: passwordError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"repeatPassword\",\n    type: \"password\",\n    placeholder: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    onChange: onChangeRepeatPassword,\n    value: repeatPassword,\n    error: repeatPasswordError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: onToLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0430\\u043D\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, errorText));\n}\n\nexport default Signup;","map":{"version":3,"sources":["/home/mr_tross/Fullstack/torelax/src/components/SignUpFrame/SignUp.js"],"names":["React","useContext","Input","Button","Context","isCorrectEmail","email","length","isCorrectPassword","Signup","user_data","setUserData","resetAllErrors","event","emailError","passwordError","repeatPasswordError","errorText","onSignUp","preventDefault","password","repeatPassword","onChangeEmail","target","value","onChangePassword","onChangeRepeatPassword","onToLogin","styles","wrapper","inputs","buttons","error"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react';\nimport './index.module.css';\nimport Input from '../Input/Input';\nimport Button from '../Button/Button';\nimport {Context} from \"../../context\";\n\nfunction isCorrectEmail(email) {\n  return email.length >= 5\n}\n\nfunction isCorrectPassword(email) {\n  return email.length >= 5\n}\n\nfunction Signup() {\n    const {user_data, setUserData} = useContext(Context);\n    const resetAllErrors = (event) => {\n        setUserData({\n          emailError: false,\n          passwordError: false,\n          repeatPasswordError: false,\n          errorText: ''\n        })\n    };\n\n    const onSignUp = (event) => {\n        event.preventDefault();\n    \n        const {\n          email,\n          password,\n          repeatPassword,\n        } = user_data;\n        \n        if (!isCorrectEmail(email)) {\n          setUserData({\n            emailError: true,\n            errorText: 'Логин должен быть длиннее 5 символов'\n          });\n    \n          return\n        }\n    \n        if (!isCorrectPassword(password)) {\n            setUserData({\n            passwordError: true,\n            errorText: 'Пароль должен быть длиннее 5 символов'\n          });\n    \n          return\n        }\n    \n        if (password !== repeatPassword) {\n            setUserData({\n            passwordError: true,\n            repeatPasswordError: true,\n            errorText: 'Пароли не совпадают'\n          });\n    \n          return\n        }\n    \n        \n        /*UserService.signup(email, password)\n          .then((user) => {\n            this.props.setUser(user);\n    \n    \n            this.props.history.push('/');\n          })\n          .catch((error) => {\n            this.setState({errorText: error.error})\n          })*/\n    \n    };\n    \n    const onChangeEmail = (event) => {\n        resetAllErrors();\n        setUserData({email: event.target.value})\n    };\n    \n    const onChangePassword = (event) => {\n        resetAllErrors();\n        setUserData({password:  event.target.value})\n    };\n    \n    const onChangeRepeatPassword = (event) => {\n        resetAllErrors();\n        setUserData({repeatPassword:  event.target.value})\n    };\n    \n      \n    \n    const onToLogin = (event) => {\n        event.preventDefault();\n    \n        // this.props.history.push('/login');\n    }\n    return (\n      <form className={styles.wrapper}>\n        <h2>Добро пожаловать</h2>\n        <div className={styles.inputs}>\n          <Input name=\"email\" type=\"email\" placeholder=\"Логин\" onChange={onChangeEmail} value={email} error={emailError}/>\n          <Input name=\"password\" type=\"password\" placeholder=\"Пароль\" onChange={onChangePassword} value={password} error={passwordError}/>\n          <Input name=\"repeatPassword\" type=\"password\" placeholder=\"Повторите пароль\" onChange={onChangeRepeatPassword} value={repeatPassword} error={repeatPasswordError}/>\n        </div>\n        <div className={styles.buttons}>\n          <Button primary onClick={onSignUp}>Регистрация</Button>\n          <Button onClick={onToLogin}>Уже зареган</Button>\n        </div>\n        <p className={styles.error}>{errorText}</p>\n      </form>\n    )\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}