{"ast":null,"code":"var _jsxFileName = \"/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js\";\nimport { Provider } from 'react-redux';\nimport { connect } from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation';\nimport styles from './index.module.css';\nimport React, { useState, useEffect } from 'react';\nimport Text from '../Text/Text';\nimport Button from '../Button/Button';\n\nfunction getMinutes(time) {\n  return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5));\n}\n\nfunction getResponse(data, request) {\n  let max = getMax(data, getMinutes(request));\n  return max.data;\n}\n\nfunction getMax(data, minutes) {\n  if (data.length === 0) {\n    return {\n      data: [],\n      sum: 0\n    };\n  }\n\n  let max_sum = 0;\n  let max_data = [];\n  data.forEach((item, index, array) => {\n    let curr_data = data.slice();\n    let removed = curr_data.splice(index, 1);\n    let curr_minutes = getMinutes(removed[0].time);\n\n    if (curr_minutes <= minutes) {\n      let curr = getMax(curr_data, minutes - getMinutes(removed[0].time));\n\n      if (curr.sum + removed[0].rating * curr_minutes > max_sum) {\n        max_sum = curr.sum + removed[0].rating * curr_minutes;\n        max_data = removed.concat(curr.data);\n      }\n    }\n  });\n  return {\n    data: max_data,\n    sum: max_sum\n  };\n}\n\nfunction Response(props) {\n  const [move, setMove] = useState(false);\n  useEffect(() => {\n    setMove(true);\n  }, []);\n  const request = props.request.request; // WARNING!!! VERY BAD REALISATION\n\n  const response = getResponse(props.data, request);\n\n  let onToActivities = event => {\n    event.preventDefault();\n    props.history.push('/activities');\n  };\n\n  let onToMain = event => {\n    event.preventDefault();\n    props.history.push('/');\n  }; // верх\n  // \n  // палка\n  //<rect x=\"3.55042\" y=\"541.617\" width=\"541.621\" height=\"18.807\" transform=\"rotate(-89.7869 3.55042 541.617)\" fill=\"#BDBDBD\"/>\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.mainFrame,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    textStyle: 0,\n    color_name: 'blue',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"RELAX\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, request), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.activities_list,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M29 51L152 64.4146V76H29V51Z\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    width: \"31\",\n    height: \"33\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), response.map((elem, index, array) => /*#__PURE__*/React.createElement(ActivitiesElemPresentation, {\n    key: elem.id,\n    props: elem,\n    moving: move,\n    delay: 100 * (array.length - index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.scales,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"341\",\n    height: \"168\",\n    viewBox: \"0 0 341 168\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.9659 24L8.61344e-06 69.4737L0 168L341 168L341 69.4737L318.404 24L23.9659 24Z\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M162 62C110.085 62 68 104.533 68 157H256C256 104.533 213.915 62 162 62Z\",\n    fill: \"#F2F2F2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"156\",\n    y: \"67\",\n    width: \"7\",\n    height: \"19\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"97.5122\",\n    y: \"96.4288\",\n    width: \"6.83954\",\n    height: \"19.1507\",\n    transform: \"rotate(-45 97.5122 96.4288)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"74\",\n    y: \"153\",\n    width: \"6\",\n    height: \"20\",\n    transform: \"rotate(-90 74 153)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"223.222\",\n    y: \"91.5925\",\n    width: \"6.83954\",\n    height: \"19.1507\",\n    transform: \"rotate(45 223.222 91.5925)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"251\",\n    y: \"147\",\n    width: \"6\",\n    height: \"19\",\n    transform: \"rotate(90 251 147)\",\n    fill: \"#333333\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M53 133L55.9187 141.983H65.3637L57.7225 147.534L60.6412 156.517L53 150.966L45.3588 156.517L48.2775 147.534L40.6363 141.983H50.0813L53 133Z\",\n    fill: \"#FBFF4E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M83.5 64L86.5309 73.3283H96.3393L88.4042 79.0935L91.4351 88.4217L83.5 82.6565L75.5649 88.4217L78.5958 79.0935L70.6607 73.3283H80.4691L83.5 64Z\",\n    fill: \"#FBFF4E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M160 33L162.919 42.3283H172.364L164.723 48.0935L167.641 57.4217L160 51.6565L152.359 57.4217L155.277 48.0935L147.636 42.3283H157.081L160 33Z\",\n    fill: \"#FBFF4E\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M246.5 64L249.531 73.3283H259.339L251.404 79.0935L254.435 88.4217L246.5 82.6565L238.565 88.4217L241.596 79.0935L233.661 73.3283H243.469L246.5 64Z\",\n    fill: \"#BABABA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M272 133L274.919 141.983H284.364L276.723 147.534L279.641 156.517L272 150.966L264.359 156.517L267.277 147.534L259.636 141.983H269.081L272 133Z\",\n    fill: \"#BABABA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: \"7\",\n    width: \"327\",\n    height: \"20\",\n    fill: \"#828282\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.column,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onToMain,\n    inversed: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Override relax time\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: onToActivities,\n    inversed: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Go to my activities\")));\n}\n\nconst mapStateToProps = state => {\n  return {\n    data: state.data\n  };\n};\n\nexport default connect(mapStateToProps)(Response);","map":{"version":3,"sources":["/home/mr_tross/Fullstack/torelax/src/components/ResponseFrame/Response.js"],"names":["Provider","connect","ActivitiesElemPresentation","styles","React","useState","useEffect","Text","Button","getMinutes","time","parseInt","substring","getResponse","data","request","max","getMax","minutes","length","sum","max_sum","max_data","forEach","item","index","array","curr_data","slice","removed","splice","curr_minutes","curr","rating","concat","Response","props","move","setMove","response","onToActivities","event","preventDefault","history","push","onToMain","mainFrame","activities_list","map","elem","id","scales","column","mapStateToProps","state"],"mappings":";AAAA,SAAQA,QAAR,QAAuB,aAAvB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,0BAAP,MAAuC,8DAAvC;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACtB,SAAOC,QAAQ,CAACD,IAAI,CAACE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAAD,CAAR,GAAiC,EAAjC,GAAsCD,QAAQ,CAACD,IAAI,CAACE,SAAL,CAAe,CAAf,EAAkB,CAAlB,CAAD,CAArD;AACH;;AAED,SAASC,WAAT,CAAqBC,IAArB,EAA2BC,OAA3B,EAAoC;AAChC,MAAIC,GAAG,GAAGC,MAAM,CAACH,IAAD,EAAOL,UAAU,CAACM,OAAD,CAAjB,CAAhB;AACA,SAAOC,GAAG,CAACF,IAAX;AACH;;AAED,SAASG,MAAT,CAAgBH,IAAhB,EAAsBI,OAAtB,EAA+B;AAC3B,MAAIJ,IAAI,CAACK,MAAL,KAAgB,CAApB,EAAuB;AACnB,WAAO;AACHL,MAAAA,IAAI,EAAE,EADH;AAEHM,MAAAA,GAAG,EAAE;AAFF,KAAP;AAIH;;AACD,MAAIC,OAAO,GAAG,CAAd;AACA,MAAIC,QAAQ,GAAG,EAAf;AACAR,EAAAA,IAAI,CAACS,OAAL,CAAa,CAACC,IAAD,EAAOC,KAAP,EAAcC,KAAd,KAAuB;AAChC,QAAIC,SAAS,GAAGb,IAAI,CAACc,KAAL,EAAhB;AACA,QAAIC,OAAO,GAAGF,SAAS,CAACG,MAAV,CAAiBL,KAAjB,EAAwB,CAAxB,CAAd;AACA,QAAIM,YAAY,GAAGtB,UAAU,CAACoB,OAAO,CAAC,CAAD,CAAP,CAAWnB,IAAZ,CAA7B;;AACA,QAAIqB,YAAY,IAAIb,OAApB,EAA6B;AACxB,UAAIc,IAAI,GAAGf,MAAM,CAACU,SAAD,EAAYT,OAAO,GAAGT,UAAU,CAACoB,OAAO,CAAC,CAAD,CAAP,CAAWnB,IAAZ,CAAhC,CAAjB;;AACD,UAAIsB,IAAI,CAACZ,GAAL,GAAWS,OAAO,CAAC,CAAD,CAAP,CAAWI,MAAX,GAAoBF,YAA/B,GAA8CV,OAAlD,EAA2D;AACvDA,QAAAA,OAAO,GAAGW,IAAI,CAACZ,GAAL,GAAWS,OAAO,CAAC,CAAD,CAAP,CAAWI,MAAX,GAAoBF,YAAzC;AACAT,QAAAA,QAAQ,GAAGO,OAAO,CAACK,MAAR,CAAeF,IAAI,CAAClB,IAApB,CAAX;AACH;AACJ;AACJ,GAXD;AAYA,SAAO;AACHA,IAAAA,IAAI,EAAEQ,QADH;AAEHF,IAAAA,GAAG,EAAEC;AAFF,GAAP;AAIH;;AAID,SAASc,QAAT,CAAkBC,KAAlB,EAAyB;AACrB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBjC,QAAQ,CAAC,KAAD,CAAhC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZgC,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFM,EAEJ,EAFI,CAAT;AAIA,QAAMvB,OAAO,GAAGqB,KAAK,CAACrB,OAAN,CAAcA,OAA9B,CANqB,CAOrB;;AACA,QAAMwB,QAAQ,GAAG1B,WAAW,CAACuB,KAAK,CAACtB,IAAP,EAAaC,OAAb,CAA5B;;AACA,MAAIyB,cAAc,GAAGC,KAAD,IAAW;AAC3BA,IAAAA,KAAK,CAACC,cAAN;AAEAN,IAAAA,KAAK,CAACO,OAAN,CAAcC,IAAd,CAAmB,aAAnB;AACH,GAJD;;AAKA,MAAIC,QAAQ,GAAGJ,KAAD,IAAW;AACrBA,IAAAA,KAAK,CAACC,cAAN;AAEAN,IAAAA,KAAK,CAACO,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH,GAJD,CAdqB,CAmBrB;AACA;AACA;AACA;;;AAEA,sBACI;AAAK,IAAA,SAAS,EAAIzC,MAAM,CAAC2C,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAE,CAAjB;AAAoB,IAAA,UAAU,EAAE,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO/B,OAAP,CADJ,eAEI;AAAK,IAAA,SAAS,EAAIZ,MAAM,CAAC4C,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAM,IAAA,CAAC,EAAC,8BAAR;AAAuC,IAAA,IAAI,EAAC,SAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEA;AAAM,IAAA,KAAK,EAAC,IAAZ;AAAiB,IAAA,MAAM,EAAC,IAAxB;AAA6B,IAAA,IAAI,EAAC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,EAGKR,QAAQ,CAACS,GAAT,CAAa,CAACC,IAAD,EAAOxB,KAAP,EAAcC,KAAd,kBACV,oBAAC,0BAAD;AAA4B,IAAA,GAAG,EAAIuB,IAAI,CAACC,EAAxC;AAA4C,IAAA,KAAK,EAAED,IAAnD;AAAyD,IAAA,MAAM,EAAIZ,IAAnE;AAAyE,IAAA,KAAK,EAAI,OAAOX,KAAK,CAACP,MAAN,GAAeM,KAAtB,CAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CAHL,CAFJ,eAUI;AAAK,IAAA,SAAS,EAAItB,MAAM,CAACgD,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,KAAK,EAAC,KAAX;AAAiB,IAAA,MAAM,EAAC,KAAxB;AAA8B,IAAA,OAAO,EAAC,aAAtC;AAAoD,IAAA,IAAI,EAAC,MAAzD;AAAgE,IAAA,KAAK,EAAC,4BAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAM,IAAA,CAAC,EAAC,kFAAR;AAA2F,IAAA,IAAI,EAAC,SAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAM,IAAA,CAAC,EAAC,yEAAR;AAAkF,IAAA,IAAI,EAAC,SAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI;AAAM,IAAA,CAAC,EAAC,KAAR;AAAc,IAAA,CAAC,EAAC,IAAhB;AAAqB,IAAA,KAAK,EAAC,GAA3B;AAA+B,IAAA,MAAM,EAAC,IAAtC;AAA2C,IAAA,IAAI,EAAC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,eAII;AAAM,IAAA,CAAC,EAAC,SAAR;AAAkB,IAAA,CAAC,EAAC,SAApB;AAA8B,IAAA,KAAK,EAAC,SAApC;AAA8C,IAAA,MAAM,EAAC,SAArD;AAA+D,IAAA,SAAS,EAAC,6BAAzE;AAAuG,IAAA,IAAI,EAAC,SAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,eAKI;AAAM,IAAA,CAAC,EAAC,IAAR;AAAa,IAAA,CAAC,EAAC,KAAf;AAAqB,IAAA,KAAK,EAAC,GAA3B;AAA+B,IAAA,MAAM,EAAC,IAAtC;AAA2C,IAAA,SAAS,EAAC,oBAArD;AAA0E,IAAA,IAAI,EAAC,SAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,eAMI;AAAM,IAAA,CAAC,EAAC,SAAR;AAAkB,IAAA,CAAC,EAAC,SAApB;AAA8B,IAAA,KAAK,EAAC,SAApC;AAA8C,IAAA,MAAM,EAAC,SAArD;AAA+D,IAAA,SAAS,EAAC,4BAAzE;AAAsG,IAAA,IAAI,EAAC,SAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,eAOI;AAAM,IAAA,CAAC,EAAC,KAAR;AAAc,IAAA,CAAC,EAAC,KAAhB;AAAsB,IAAA,KAAK,EAAC,GAA5B;AAAgC,IAAA,MAAM,EAAC,IAAvC;AAA4C,IAAA,SAAS,EAAC,oBAAtD;AAA2E,IAAA,IAAI,EAAC,SAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,eAQI;AAAM,IAAA,CAAC,EAAC,4IAAR;AAAqJ,IAAA,IAAI,EAAC,SAA1J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,eASI;AAAM,IAAA,CAAC,EAAC,gJAAR;AAAyJ,IAAA,IAAI,EAAC,SAA9J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,eAUI;AAAM,IAAA,CAAC,EAAC,6IAAR;AAAsJ,IAAA,IAAI,EAAC,SAA3J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVJ,eAWI;AAAM,IAAA,CAAC,EAAC,mJAAR;AAA4J,IAAA,IAAI,EAAC,SAAjK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,eAYI;AAAM,IAAA,CAAC,EAAC,+IAAR;AAAwJ,IAAA,IAAI,EAAC,SAA7J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZJ,eAaI;AAAM,IAAA,CAAC,EAAC,GAAR;AAAY,IAAA,KAAK,EAAC,KAAlB;AAAwB,IAAA,MAAM,EAAC,IAA/B;AAAoC,IAAA,IAAI,EAAC,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,CADA,CAVJ,CAFJ,eA8BI;AAAK,IAAA,SAAS,EAAIhD,MAAM,CAACiD,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAIP,QAAnB;AAA6B,IAAA,QAAQ,EAAE,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,eAII,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAIL,cAAnB;AAAmC,IAAA,QAAQ,EAAE,KAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAJJ,CA9BJ,CADJ;AAyCH;;AAED,MAAMa,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACLxC,IAAAA,IAAI,EAAEwC,KAAK,CAACxC;AADP,GAAP;AAGD,CAJH;;AAMA,eAAeb,OAAO,CAACoD,eAAD,CAAP,CAAyBlB,QAAzB,CAAf","sourcesContent":["import {Provider} from 'react-redux'\nimport {connect} from \"react-redux\";\nimport ActivitiesElemPresentation from '../ActivitiesFrame/ActivitiesElem/ActivitiesElemPresentation'  \nimport styles from './index.module.css';\nimport React, {useState, useEffect} from 'react';\nimport Text from '../Text/Text'\nimport Button from '../Button/Button'\n\nfunction getMinutes(time) {\n    return parseInt(time.substring(0, 2)) * 60 + parseInt(time.substring(3, 5));\n}\n\nfunction getResponse(data, request) {\n    let max = getMax(data, getMinutes(request));\n    return max.data;\n}\n\nfunction getMax(data, minutes) {\n    if (data.length === 0) {\n        return {\n            data: [],\n            sum: 0\n        };\n    }\n    let max_sum = 0;\n    let max_data = [];\n    data.forEach((item, index, array)=> {\n        let curr_data = data.slice();\n        let removed = curr_data.splice(index, 1);\n        let curr_minutes = getMinutes(removed[0].time);\n        if (curr_minutes <= minutes) {\n             let curr = getMax(curr_data, minutes - getMinutes(removed[0].time))\n            if (curr.sum + removed[0].rating * curr_minutes > max_sum) {\n                max_sum = curr.sum + removed[0].rating * curr_minutes; \n                max_data = removed.concat(curr.data)\n            }\n        }\n    });\n    return {\n        data: max_data,\n        sum: max_sum\n    };\n}\n\n\n\nfunction Response(props) {\n    const [move, setMove] = useState(false)\n    useEffect(() => {\n        setMove(true)\n      }, []);\n\n    const request = props.request.request\n    // WARNING!!! VERY BAD REALISATION\n    const response = getResponse(props.data, request)\n    let onToActivities =(event) => {\n        event.preventDefault();\n        \n        props.history.push('/activities');\n    }\n    let onToMain =(event) => {\n        event.preventDefault();\n        \n        props.history.push('/');\n    }\n    // верх\n    // \n    // палка\n    //<rect x=\"3.55042\" y=\"541.617\" width=\"541.621\" height=\"18.807\" transform=\"rotate(-89.7869 3.55042 541.617)\" fill=\"#BDBDBD\"/>\n\n    return (\n        <div className = {styles.mainFrame}>\n            <Text textStyle={0} color_name={'blue'}>RELAX</Text>\n            <div>\n                <Text>{request}</Text>\n                <div className = {styles.activities_list}>\n                <path d=\"M29 51L152 64.4146V76H29V51Z\" fill=\"#828282\"/>\n                <rect width=\"31\" height=\"33\" fill=\"#828282\"/>\n                    {response.map((elem, index, array) =>\n                        <ActivitiesElemPresentation key = {elem.id} props={elem} moving = {move} delay = {100 * (array.length - index)}> \n                        </ActivitiesElemPresentation>\n                    )} \n                </div>\n                <div className = {styles.scales}>\n                <svg width=\"341\" height=\"168\" viewBox=\"0 0 341 168\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M23.9659 24L8.61344e-06 69.4737L0 168L341 168L341 69.4737L318.404 24L23.9659 24Z\" fill=\"#828282\"/>\n                    <path d=\"M162 62C110.085 62 68 104.533 68 157H256C256 104.533 213.915 62 162 62Z\" fill=\"#F2F2F2\"/>\n                    <rect x=\"156\" y=\"67\" width=\"7\" height=\"19\" fill=\"#333333\"/>\n                    <rect x=\"97.5122\" y=\"96.4288\" width=\"6.83954\" height=\"19.1507\" transform=\"rotate(-45 97.5122 96.4288)\" fill=\"#333333\"/>\n                    <rect x=\"74\" y=\"153\" width=\"6\" height=\"20\" transform=\"rotate(-90 74 153)\" fill=\"#333333\"/>\n                    <rect x=\"223.222\" y=\"91.5925\" width=\"6.83954\" height=\"19.1507\" transform=\"rotate(45 223.222 91.5925)\" fill=\"#333333\"/>\n                    <rect x=\"251\" y=\"147\" width=\"6\" height=\"19\" transform=\"rotate(90 251 147)\" fill=\"#333333\"/>\n                    <path d=\"M53 133L55.9187 141.983H65.3637L57.7225 147.534L60.6412 156.517L53 150.966L45.3588 156.517L48.2775 147.534L40.6363 141.983H50.0813L53 133Z\" fill=\"#FBFF4E\"/>\n                    <path d=\"M83.5 64L86.5309 73.3283H96.3393L88.4042 79.0935L91.4351 88.4217L83.5 82.6565L75.5649 88.4217L78.5958 79.0935L70.6607 73.3283H80.4691L83.5 64Z\" fill=\"#FBFF4E\"/>\n                    <path d=\"M160 33L162.919 42.3283H172.364L164.723 48.0935L167.641 57.4217L160 51.6565L152.359 57.4217L155.277 48.0935L147.636 42.3283H157.081L160 33Z\" fill=\"#FBFF4E\"/>\n                    <path d=\"M246.5 64L249.531 73.3283H259.339L251.404 79.0935L254.435 88.4217L246.5 82.6565L238.565 88.4217L241.596 79.0935L233.661 73.3283H243.469L246.5 64Z\" fill=\"#BABABA\"/>\n                    <path d=\"M272 133L274.919 141.983H284.364L276.723 147.534L279.641 156.517L272 150.966L264.359 156.517L267.277 147.534L259.636 141.983H269.081L272 133Z\" fill=\"#BABABA\"/>\n                    <rect x=\"7\" width=\"327\" height=\"20\" fill=\"#828282\"/>\n                </svg>\n                </div>\n            </div>\n            <div className = {styles.column}>\n                <Button onClick = {onToMain} inversed={true}>\n                        Override relax time\n                </Button> \n                <Button onClick = {onToActivities} inversed={false}>\n                        Go to my activities\n                </Button> \n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n      data: state.data    \n    }\n  };\n\nexport default connect(mapStateToProps)(Response)"]},"metadata":{},"sourceType":"module"}