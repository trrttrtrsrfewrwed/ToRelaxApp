{"ast":null,"code":"var _jsxFileName = \"/home/mr_tross/Fullstack/torelax/src/components/SignUpFrame/SignUp.js\";\nimport React, { useContext } from 'react';\nimport styles from './index.module.css';\nimport Input from '../Input/Input';\nimport Button from '../Button/Button';\nimport { Context } from \"../../context\";\n\nfunction isCorrectEmail(email) {\n  return email.length >= 5;\n}\n\nfunction isCorrectPassword(email) {\n  console.log(\"email: \", email);\n  return email.length >= 5;\n}\n\nfunction Signup() {\n  const {\n    user_data,\n    setUserData\n  } = useContext(Context);\n\n  const resetAllErrors = event => {\n    setUserData({\n      email: user_data.email,\n      password: user_data.password,\n      repeatPassword: user_data.repeatPassword,\n      emailError: false,\n      passwordError: false,\n      repeatPasswordError: false,\n      errorText: ''\n    });\n  };\n\n  const onSignUp = event => {\n    event.preventDefault();\n    let prev_user_data = user_data;\n\n    if (!isCorrectEmail(prev_user_data.email)) {\n      prev_user_data.emailError = true;\n      prev_user_data.errorText = 'Логин должен быть длиннее 5 символов';\n      setUserData(prev_user_data);\n      return;\n    }\n\n    if (!isCorrectPassword(prev_user_data.password)) {\n      prev_user_data.passwordError = true;\n      prev_user_data.errorText = 'Пароль должен быть длиннее 5 символов';\n      setUserData(prev_user_data);\n      return;\n    }\n\n    if (prev_user_data.password !== prev_user_data.repeatPassword) {\n      prev_user_data.passwordError = true;\n      prev_user_data.repeatPasswordError = true;\n      prev_user_data.errorText = 'Пароли не совпадают';\n      setUserData(prev_user_data);\n      return;\n    }\n  };\n\n  const onChangeEmail = event => {\n    //resetAllErrors();\n    user_data.email = event.target.value;\n    setUserData({\n      email: event.target.value,\n      password: user_data.password,\n      repeatPassword: user_data.repeatPassword,\n      emailError: user_data.emailError,\n      passwordError: user_data.passwordError,\n      repeatPasswordError: user_data.repeatPasswordError,\n      errorText: user_data.errorText\n    });\n    console.log(user_data);\n  };\n\n  const onChangePassword = event => {\n    //resetAllErrors();\n    setUserData({\n      email: user_data.email,\n      password: event.target.value,\n      repeatPassword: user_data.repeatPassword,\n      emailError: user_data.emailError,\n      passwordError: user_data.passwordError,\n      repeatPasswordError: user_data.repeatPasswordError,\n      errorText: user_data.errorText\n    });\n    console.log(user_data);\n  };\n\n  const onChangeRepeatPassword = event => {\n    //resetAllErrors();\n    setUserData({\n      email: user_data.email,\n      password: user_data.password,\n      repeatPassword: event.target.value,\n      emailError: user_data.emailError,\n      passwordError: user_data.passwordError,\n      repeatPasswordError: user_data.repeatPasswordError,\n      errorText: user_data.errorText\n    });\n    console.log(user_data);\n  };\n\n  const onToLogin = event => {\n    event.preventDefault(); // this.props.history.push('/login');\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n    onChange: onChangeEmail,\n    value: user_data.email,\n    error: user_data.emailError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    onChange: onChangePassword,\n    value: user_data.password,\n    error: user_data.passwordError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    name: \"repeatPassword\",\n    type: \"password\",\n    placeholder: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    onChange: onChangeRepeatPassword,\n    value: user_data.repeatPassword,\n    error: user_data.repeatPasswordError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: onToLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0430\\u043D\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, user_data.errorText));\n}\n\nexport default Signup;","map":{"version":3,"sources":["/home/mr_tross/Fullstack/torelax/src/components/SignUpFrame/SignUp.js"],"names":["React","useContext","styles","Input","Button","Context","isCorrectEmail","email","length","isCorrectPassword","console","log","Signup","user_data","setUserData","resetAllErrors","event","password","repeatPassword","emailError","passwordError","repeatPasswordError","errorText","onSignUp","preventDefault","prev_user_data","onChangeEmail","target","value","onChangePassword","onChangeRepeatPassword","onToLogin","wrapper","inputs","buttons","error"],"mappings":"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","sourcesContent":["import React, {useContext} from 'react';\nimport styles from './index.module.css';\nimport Input from '../Input/Input';\nimport Button from '../Button/Button';\nimport {Context} from \"../../context\";\n\nfunction isCorrectEmail(email) {\n  return email.length >= 5\n}\n\nfunction isCorrectPassword(email) {\n    console.log(\"email: \", email)\n  return email.length >= 5\n}\n\nfunction Signup() {\n    const {user_data, setUserData} = useContext(Context);\n\n    const resetAllErrors = (event) => {\n        setUserData({\n            email: user_data.email,\n            password: user_data.password,\n            repeatPassword: user_data.repeatPassword,\n            emailError: false,\n            passwordError: false,\n            repeatPasswordError: false,\n            errorText: ''\n          });\n    };\n\n    const onSignUp = (event) => {\n        event.preventDefault();\n        \n        let prev_user_data = user_data;\n        \n        if (!isCorrectEmail(prev_user_data.email)) {\n            prev_user_data.emailError = true;\n            prev_user_data.errorText = 'Логин должен быть длиннее 5 символов';\n            setUserData(prev_user_data);\n    \n            return\n        }\n    \n        if (!isCorrectPassword(prev_user_data.password)) {\n            prev_user_data.passwordError = true;\n            prev_user_data.errorText = 'Пароль должен быть длиннее 5 символов';\n            setUserData(prev_user_data);\n\n          return\n        }\n    \n        if (prev_user_data.password !== prev_user_data.repeatPassword) {\n            prev_user_data.passwordError = true;\n            prev_user_data.repeatPasswordError = true;\n            prev_user_data.errorText = 'Пароли не совпадают';\n            setUserData(prev_user_data);\n          return\n        }\n    };\n    \n    const onChangeEmail = (event) => {\n        //resetAllErrors();\n        user_data.email = event.target.value;\n        setUserData({\n            email: event.target.value,\n            password: user_data.password,\n            repeatPassword: user_data.repeatPassword,\n            emailError: user_data.emailError,\n            passwordError: user_data.passwordError,\n            repeatPasswordError: user_data.repeatPasswordError,\n            errorText: user_data.errorText\n          });\n        console.log(user_data);\n    };\n    \n    const onChangePassword = (event) => {\n        //resetAllErrors();\n        setUserData({\n            email: user_data.email,\n            password: event.target.value,\n            repeatPassword: user_data.repeatPassword,\n            emailError: user_data.emailError,\n            passwordError: user_data.passwordError,\n            repeatPasswordError: user_data.repeatPasswordError,\n            errorText: user_data.errorText\n          });\n        console.log(user_data);\n    };\n    \n    const onChangeRepeatPassword = (event) => {\n        //resetAllErrors();\n        setUserData({\n            email: user_data.email,\n            password: user_data.password,\n            repeatPassword: event.target.value,\n            emailError: user_data.emailError,\n            passwordError: user_data.passwordError,\n            repeatPasswordError: user_data.repeatPasswordError,\n            errorText: user_data.errorText\n          });\n        console.log(user_data);\n    };\n    \n      \n    const onToLogin = (event) => {\n        event.preventDefault();\n    \n        // this.props.history.push('/login');\n    }\n    return (\n        <form className={styles.wrapper}>\n            <h2>Добро пожаловать</h2>\n            <div className={styles.inputs}>\n            <Input name=\"email\" type=\"email\" placeholder=\"Логин\" onChange={onChangeEmail} value={user_data.email} error={user_data.emailError}/>\n            <Input name=\"password\" type=\"password\" placeholder=\"Пароль\" onChange={onChangePassword} value={user_data.password} error={user_data.passwordError}/>\n            <Input name=\"repeatPassword\" type=\"password\" placeholder=\"Повторите пароль\" onChange={onChangeRepeatPassword} value={user_data.repeatPassword} error={user_data.repeatPasswordError}/>\n            </div>\n            <div className={styles.buttons}>\n            <Button primary onClick={onSignUp}>Регистрация</Button>\n            <Button onClick={onToLogin}>Уже зареган</Button>\n            </div>\n            <p className={styles.error}>{user_data.errorText}</p>\n        </form>\n    )\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}